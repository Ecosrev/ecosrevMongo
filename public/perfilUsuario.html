<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EcosRev</title>
  <!-- Bootstrap 5 -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet"
  />
  <script src="https://kit.fontawesome.com/ca746a463a.js" crossorigin="anonymous" defer></script>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container-fluid">
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarTogglerDemo03"
        aria-controls="navbarTogglerDemo03"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <object data="images/logo.svg" class="navbar-brand" href="#"></object>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="menuUser.html">
              <h6>Início</h6></a
            >
          </li>
          <li class="nav-item">
            <a id="bntNav" class="nav-link active" href="perfilUsuario.html">
              <h6>Ver meu perfil</h6></a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="trocarPontos.html"><h6>Trocar meus pontos</h6></a>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <button class="botao"><a class="nav-link" href="index.html">
              <h6>Sair</h6>
            </a></button>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="card shadow" id="perfilCard">
    <div class="card-header">
    <h2>Perfil do Usuário</h2>
  </div>
  <div class="card-body">
    <div class="imagemPerfil">
    <img id="profileImage" class="profile-img" src="" alt="Foto do Perfil">
  </div>
    <form id="profileForm">
      <label for="nome">Nome:</label>
      <input class="form-control" type="text" id="nome" name="nome" required>

      <label for="endereco">Endereço:</label>
      <input class="form-control" type="text" id="endereco" name="endereco" required>

      <label for="senha">Senha:</label>
      <input class="form-control" type="password" id="senha" name="senha" required>

      <button id="salvarPerfil" class="botao" type="submit">Salvar</button>
    </div>
    </form>
  </div>
  <footer>
    <div>
      <span id="copy">© 2023 Ecosrev</span>
      <div id="icons">
        <a href=""><i class="fa-brands fa-instagram foo" style="color: white;"></i></a>
        <a href=""><i class="fa-brands fa-facebook-f foo" style="color: white;"></i></a>
        <a href=""><i class="fa-brands fa-twitter foo" style="color: white;"></i></a>
        <a href="https://github.com/Ecosrev/ecosrevMongo"><i class="fa-brands fa-github foo" style="color: rgba(87, 87, 87, 0.7);"></i></a>
      </div>
    </div>
  </footer>
  <script>
    async function preencherCamposPerfil() {
      try {
        const response = await fetch('https://randomuser.me/api/');
        const data = await response.json();
        const user = data.results[0];

        // Preenchendo os campos com os dados do perfil
        document.getElementById("nome").value = `${user.name.first} ${user.name.last}`;
        document.getElementById("endereco").value = `${user.location.street.name}, ${user.location.street.number}`;
        document.getElementById("senha").value = "senha123";  // Placeholder, a senha normalmente não seria preenchida
        document.getElementById("profileImage").src = user.picture.large;
      } catch (error) {
        console.error('Erro ao obter os dados do usuário:', error);
      }
    }

    function enviarFormulario(event) {
      event.preventDefault(); // Evitar o comportamento padrão de recarregar a página

      // Obter os valores dos campos
      var nome = document.getElementById("nome").value;
      var endereco = document.getElementById("endereco").value;
      var senha = document.getElementById("senha").value;

      // Aqui você pode fazer algo com os dados, como enviar para o servidor

      alert("Alterações salvas com sucesso!");
    }

    window.onload = function() {
      preencherCamposPerfil();
      document.getElementById("profileForm").addEventListener("submit", enviarFormulario);
    };
  </script>
</body>
</html>
